### Tutorial for Git

https://slides.tonycrane.cc/PracticalSkillsTutorial/2023-fall-ckc/lec2/#/2/9

#### Lead - in

> 10：00，SLIDE - 01

本次讲座主要分三个维度讲解Git相关的知识，他们分别是 What，Why 和 How，意即什么是Git，为什么要使用Git以及怎么用Git。

下面请大家准备好电脑，开始我们今天的讲座。

#### 什么是Git ?   


> 10：05，SLIDE - 02 - 01

首先，什么是git。

==SLIDE - 02 - 02==

让我们先套用一下官方解释，分布式版本控制系统，（即 **DVCS** ）

如果有点迷惑，不要紧，简单来说，

- 分布式，就是将代码分散给所有人嘛，不再集中管理，也不需要联网，自己就能用，自己就能改。

[^举个例子,选讲]:   比方说现在你们要完成一个小组作业，那么将成果给每个人拷贝一份，就是分布式，。

- 版本控制，顾名思义，就是管理和记录每次对项目的修改，然后生成一个个版本嘛，对于软件开发来说呢，主要就是对代码的更改进行记录、管理以及个人感觉最重要的回溯功能哈

[^拓展，选讲]:       具体实现呢是Git针对每次提交生成快照，以便快速管理和回溯文件的修改历史。

简单来说呢，就是让我们在开发敲代码的时候，通过Git，我们可以让其它同学合理的和我们一起写，并记录每一次的改动，方便查看，说句官方话，就是可以有更多的容错性，以及更科学灵活的开发方式。

#### 为什么要用Git？

说白了具体就是因为我们无法一下子无错误的搞完一个大型或者比较复杂的软件，或者相似的东西，然后有这样的一个帮我们管理已经完成的工作的需求而产生的一个工具哈，并且是一个非常好用，帮助非常大的一个工具哈。

[^选讲]:              可能还是有点抽象，这里举个实例吧

	比方说你和你的团队写了一堆代码，（我们先随便找个屎山，学长别的不多，这个还是挺多的哈

	这一堆代码，（把.git 干掉，可以不干掉


	


```bash

git add .
git commit -m "Git Changes"
git show

```
 

	然后现在有人想修改，改完之后发现，错了，但是之前的代码并没有被合理的记录，也不知道改了哪
	这就会对我们的开发进度造成极其恶劣的影响，

	那么Git 就为我们提供了这样一个解决方案，记录修改，并实现随时的版本回滚，回到上一个版本

	此外，相信如果代码只是在一台机器上面进行以上的所有的操作，显然会有些过于，额，总之就无法发挥团队的协作效率优势哈，所以这里就要讲到它的另外一个功能，也即在每个人的机器上独立运作，协作开发


简而言之，协作开发 和 版本控制。

[^开源风波，选讲]:   这里由于某些原因，这里不再介绍Linux创作它的过程了以及它相关的一些小故事了。

		废话：因为是工具，所以需要安装。

所以我们直接讲安装。

==SLIDE - 02 - 03==

先把官网贴在这里哈

https://git-scm.com/

对于安装，如果你用的是Linux 或者 Mac ，那么包管理器直接安装即可。

那么对于Windows呢 ,可以直接访问官网获取包

https://git-scm.com/download/win

当然我们也会在群里给出最新的安装包，直接获取即可。

- 不展开？

	当然以大家的聪明才智，相信大家都学会了刚刚鼠宝宝/赵学长给大家讲的搜索技巧，从而来成功下载并配置好它，而我们今天的主要目的本身也并不在这里啊，所以我们就不对安装过程进行过多不必要的讲解，而如果你对完全复现接下来讲的内容感兴趣的话，建议把 这个Git Bash 勾上，然后使用vim编辑器，并配置好相应的环境变量。

- 展开？（卸一手Git 给他们演示一下）

	![[Pasted image 20241027221323.png]]

	![[Pasted image 20241027221356.png]]

	![[Pasted image 20241027221430.png]]

	![[Pasted image 20241027221531.png]]
	默认即可

	![[Pasted image 20241027221659.png]]
	默认即可

	适当讲解

因为是分布式协作开发的嘛，所以下完之后我们总得让自己的Git与你自己对应起来吧，所以开始记得git config 一下哈，初始阶段，建议直接用--global 全局配置了。

```bash

git config --global user.name "Yazs" # 建议新手 --global
git config --global user.email Yyyyazs17@gmail.com # 建议新手 --global

```


番外顺便一提这个 Git Bash哈，==电脑 打开Git Bash==

Git Bash 是一个基于 MinGW 的类Linux Shell 环境，具体来说会有很多神奇的功能，如果只是想要初步把玩Linux 的话基本上也够了。

当然如果大家对于这种终端的 UI界面 不是很喜欢的话，也可以对其进行自美化哈。


## 怎么使用Git


> 10：25，SLIDE - 03 - 01，


OK，以上讲了这么多，我们大概也只是对它有了一个初步的了解

现在对它来一个亲密接触吧。

---

====实操====


### 本地


这里由于是面向新手，我们不会讲 git 太底层的东西哈，先揭一揭这个新娘子的面纱哈

既然是要管理项目，那我们得先有一个统一的文件夹来管理所有的文件对吧

所以第一步，我们需要创建一个文件夹，当然官方一点的名字就叫版本库或者仓库哈

```bash
// 
mkdir test

cd test

pwd

```
然后，我们得让这个文件夹使用到git 对吗，很简单，你只需要

```bash

git init 

```


如此即可

现在让我们进入这个文件夹，打开隐藏文件，就发现 .git 目录的存在，官方称谓叫Git 的版本库，而它，便是记录了所有的Git相关信息 的一个重要的东西，不然也不会隐藏不让你动对吧

好，现在比方说我想对这个项目进行最基础的添加与修改文件活动，并让git保存这些操作，这又是如何做到的呢

其实很简单

```bash

touch test.txt # 当然也可以手动创建

vim test.txt # 当然也可以双击打开

# typora test.txt

cat test.txt

```

git status 一下发现git 已经记录了相关内容

然后，用 还是比较易懂的add 命令告诉git 相关修改

```bash

git add test.txt # 请注意，没有返回消息，就是最好的消息，你也不必管

```

再次git status 我们会发现这边有类似文字
![[Pasted image 20241027225109.png]]


也可以再次进行修改，再用git add 添加修改


这时，我们也许会产生一个问题

就是当我们有了比较大的修改，但是突然之间灵光一动觉得还是不修改为好，那怎么办呢，显然重新改，再重新add 会很麻烦，有啥可以直接撤销放弃的方法吗

万能的git 自然为我们安排好了


我们只需
```bash

git checkout -- <your file>

```


即可撤销所有修改，具体来说，就是让他回到最近一次add的状态,当然，没有add 就回到最后提交修改的状态

那么如何提交修改呢？

当然，前提是如果你觉得一切都准备好了可以提交这一次修改了，便可以直接

```bash

git commit -m "your changes" # 自然，你需要告诉其它人你改啥了吧，也好作为后面进行版本区分的依据

```


那么，我们又如何进行版本的回退查看program 里面之前的版本呢，其实很简单

我们可以先拉出所有的提交记录

```bash

git log

```

![[Pasted image 20241027230548.png]]

commit 后面一堆乱码一样的东西是它的提交标识

至于为什么用这个而不用 1,2,3,4,5....之类的

其实也很好理解

如果每个人都这样命名，git 怎么知道回到哪里呢


这里我们只需


```bash

git reset --hard lee0cb # 前几位即可

```


那么我突然想不想回去了怎么办呢

而 git log 此时已然没有了2的信息

难道git 残忍地删掉了它


显然不会，我们只需记好上面那个版本的标识，便可回去.




### 远程

显然，仅仅在自己电脑上进行这样的操作显然还不能展现我们git 的最大用处啊

既然是多人协作开发，那自然要有与其他人远程沟通的能力吧

好，下面我们就以Github为例 ，


```bash
ssh-keygen -t rsa -C "1048568508@qq.com"
```

因为仅仅个人目的，一路回车即可

cd user/.ssh， 找到id_rsa（私钥，不可泄漏） 和 id_rsa.pub（公钥） 文件

随后，登录github，这里由于时间关系，我们不重新做演示了

打开“Account settings”，“SSH Keys”页面：

然后，点“Add SSH Key”，填上任意Title，在Key文本框里粘贴`id_rsa.pub`文件的内容： add key 点击即可

```bash

git remote add origin https://github.com/Yazsren/lec1_assignment.git
git branch -M main
git push -u origin main

```


为什么GitHub需要SSH Key呢？因为GitHub需要识别出你推送的提交确实是你推送的，而不是别人冒充的，而Git支持SSH协议，所以，GitHub只要知道了你的公钥，就可以确认只有你自己才能推送。


作业：通过Pull Request 的方式提交你最近一周的预习成果






作业提交 与 本地化管理 








